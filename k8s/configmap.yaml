apiVersion: v1
kind: ConfigMap
metadata:
  name: sharding-config
  namespace: sharding-system
data:
  router.json: |
    {
      "server": {
        "host": "0.0.0.0",
        "port": 8080,
        "read_timeout": "30s",
        "write_timeout": "30s",
        "idle_timeout": "120s"
      },
      "metadata": {
        "type": "etcd",
        "endpoints": ["etcd-0.etcd:2379", "etcd-1.etcd:2379", "etcd-2.etcd:2379"],
        "timeout": "5s"
      },
      "sharding": {
        "strategy": "hash",
        "hash_function": "murmur3",
        "vnode_count": 256,
        "replica_policy": "replica_ok",
        "max_connections": 100,
        "connection_ttl": "5m"
      },
      "security": {
        "enable_tls": false,
        "enable_rbac": true
      },
      "observability": {
        "metrics_port": 9090,
        "enable_tracing": false,
        "log_level": "info"
      }
    }
  manager.json: |
    {
      "server": {
        "host": "0.0.0.0",
        "port": 8081,
        "read_timeout": "30s",
        "write_timeout": "30s",
        "idle_timeout": "120s"
      },
      "metadata": {
        "type": "etcd",
        "endpoints": ["etcd-0.etcd:2379", "etcd-1.etcd:2379", "etcd-2.etcd:2379"],
        "timeout": "5s"
      },
      "sharding": {
        "strategy": "hash",
        "hash_function": "murmur3",
        "vnode_count": 256,
        "replica_policy": "replica_ok",
        "max_connections": 100,
        "connection_ttl": "5m"
      },
      "security": {
        "enable_tls": false,
        "enable_rbac": true,
        "audit_log_path": "/var/log/sharding/audit.log"
      },
      "observability": {
        "metrics_port": 9091,
        "enable_tracing": false,
        "log_level": "info"
      }
    }

